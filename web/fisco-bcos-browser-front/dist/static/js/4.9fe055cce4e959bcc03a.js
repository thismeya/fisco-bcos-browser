webpackJsonp([4],{HwHj:function(t,a,e){var n=e("l19Z");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("rjj0")("45f8035b",n,!0,{})},Lydq:function(t,a,e){"use strict";function n(t){e("uu0b")}Object.defineProperty(a,"__esModule",{value:!0});var i=e("p8/4"),o=e("mYFX"),s=e("VU/8"),c=n,r=s(i.a,o.a,!1,c,"data-v-3538eb66",null);a.default=r.exports},SwuP:function(t,a,e){a=t.exports=e("FZ+f")(!1),a.push([t.i,".hash-content-info-tran[data-v-3538eb66]{background-color:#2a2c3b;color:#fff;font-size:14px}.hash-content-info-tran .box[data-v-3538eb66]{width:100%;padding:20px 40px}.hash-content-info-tran .content[data-v-3538eb66]{width:100%;border-top:1px solid #999;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:#3b3e54}.hash-content-info-tran .content .title[data-v-3538eb66]{border-bottom:1px solid #999;line-height:40px;padding-top:20px;padding-left:20px}.hash-content-info-tran .pre[data-v-3538eb66]{white-space:pre-wrap!important;word-wrap:break-word!important;width:calc(100% - 50px)!important;font-size:14px;line-height:24px}.hash-content-label[data-v-3538eb66]{padding:5px 30px}.hash-content-label>.label-title[data-v-3538eb66]{display:inline-block;width:120px;text-align:left;padding-right:10px;-webkit-box-sizing:border-box;box-sizing:border-box;vertical-align:top;color:#111}.hash-content-label>.receit-content[data-v-3538eb66]{display:inline-block;width:calc(100% - 300px);max-width:950px;white-space:pre-wrap!important;word-wrap:break-word!important;border:none}.label-content[data-v-3538eb66]{display:inline-block;width:calc(100% - 300px);max-width:950px;height:auto;padding:10px;border:1px solid #eaedf3;border-radius:4px;font-size:12px}.input-data[data-v-3538eb66]{display:inline-block;width:100%;max-height:200px;overflow:auto;word-break:break-all;word-wrap:break-word;-webkit-box-sizing:border-box;box-sizing:border-box}.input-data>.item[data-v-3538eb66]{padding:5px 0;font-size:12px}.input-data>.item>.label[data-v-3538eb66]{display:inline-block;color:#111;font-weight:700;width:80px;font-size:12px;vertical-align:top}.input-label[data-v-3538eb66]{padding-bottom:15px}.input-label>.label[data-v-3538eb66]{display:inline-block;color:#111;font-weight:700;width:80px;font-size:12px;vertical-align:top}.detail-input-content[data-v-3538eb66]{display:inline-block;height:auto;border-radius:4px;font-size:12px}.tranbox[data-v-3538eb66]{margin:20px 30px;background-color:#fff;color:#42b983}.content[data-v-3538eb66] .is-top{color:#fff}.content[data-v-3538eb66] .is-active{color:#409eff}.content[data-v-3538eb66] #tab-first{padding-left:15px}.content[data-v-3538eb66] #tab-second{padding-left:30px}.content[data-v-3538eb66] .el-tabs__active-bar{padding-left:20px}",""])},"T+IE":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content-nav"},[e("div",{staticClass:"title"},[t._v(t._s(t.title)+" "+t._s(t.content))]),t._v(" "),e("div",{staticClass:"content"},[t.chainShow&&t.projectShow?e("span",{staticClass:"table-link",on:{click:function(a){return t.linkPage("project")}}},[t._v("首页")]):t._e(),t._v(" "),!t.chainShow&&t.projectShow?e("span",{staticClass:"table-link",on:{click:function(a){return t.linkPage("home")}}},[t._v("概览")]):t._e(),t._v(" "),t.subtitle&&t.projectShow?e("span",{staticClass:"table-link",on:{click:function(a){return t.linkPage(t.router)}}},[t._v("/ "+t._s(t.subtitle))]):t._e(),t._v(" "),t.projectShow?e("span",[t._v(" / "+t._s(t.contentTitle))]):t._e()])])},i=[],o={render:n,staticRenderFns:i};a.a=o},fugk:function(t,a,e){"use strict";var n=e("RFxO"),i=(e.n(n),e("yt7g"),e("YaEn"));a.a={name:"navs",props:["hrTitle","navContent","navSubtitle","hrcontent","route"],data:function(){return{title:this.hrTitle||"",content:this.navContent||"",subtitle:this.navSubtitle||"",contentTitle:this.hrcontent||"",router:this.route||"",chainType:this.$route.query.chainType||"01",chainShow:!1,projectShow:!0}},mounted:function(){"区块链"===this.title?(this.projectShow=!0,this.chainShow=!0):"项目"===this.title?(this.projectShow=!1,this.chainShow=!1):(this.projectShow=!0,this.chainShow=!1)},methods:{linkPage:function(t){i.a.push({name:t})}}}},"hM/7":function(t,a,e){"use strict";function n(t){e("HwHj")}var i=e("fugk"),o=e("T+IE"),s=e("VU/8"),c=n,r=s(i.a,o.a,!1,c,null,null);a.a=r.exports},l19Z:function(t,a,e){a=t.exports=e("FZ+f")(!1),a.push([t.i,".content-nav{width:100%;height:34px;overflow:hidden;color:#fff}.content-nav .title{float:left;font-size:16px}.content-nav .content{float:right;font-size:14px}",""])},mYFX:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"search-main padding-bottom-0"},[e("div",{staticClass:"container padding-bottom-0"},[e("v-nav",{attrs:{hrTitle:"交易",navContent:t.PkHash,navSubtitle:"交易",hrcontent:"交易信息",route:"transaction"}})],1)]),t._v(" "),e("div",{staticClass:"hash-content-info-tran"},[e("div",{staticClass:"container"},[e("div",{staticClass:"content"},[e("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(a){t.activeName=a},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"交易信息",name:"first"}},[e("div",{staticClass:"tranbox"},[t._l(t.transactionData,function(a){return e("div",{key:a.label,staticClass:"hash-content-label"},[e("span",{staticClass:"label-title"},[t._v(t._s(a.label)+":")]),t._v(" "),e("span",[t._v(t._s(a.value))])])}),t._v(" "),e("div",{staticClass:"hash-content-label"},[e("span",{staticClass:"label-title"},[t._v("input:")]),t._v(" "),e("div",{staticClass:"label-content"},[t.showDecode?t._e():e("span",{staticClass:"input-data"},[t._v(t._s(t.transactionByPkHash.input))]),t._v(" "),t.showDecode?e("div",{staticClass:"input-data"},[e("div",{staticClass:"input-label"},[e("span",{staticClass:"label"},[t._v("function")]),t._v(" "),e("span",[t._v(t._s(t.funcData+"("+t.abiType+")"))])]),t._v(" "),e("div",{staticClass:"input-label"},[e("span",{staticClass:"label"},[t._v("methodId")]),t._v(" "),e("span",[t._v(t._s(t.methodId))])]),t._v(" "),e("div",{staticClass:"input-label "},[e("span",{staticClass:"label"},[t._v("data")]),t._v(" "),t.inputData.length?e("el-table",{staticStyle:{display:"inline-block",width:"400px"},attrs:{data:t.inputData,border:""}},[t.inputData[0].name?e("el-table-column",{attrs:{prop:"name",label:"name",align:"center"}}):t._e(),t._v(" "),e("el-table-column",{attrs:{prop:"type",label:"type",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"data",label:"data",align:"center","show-overflow-tooltip":!0}})],1):t._e()],1)]):t._e()])]),t._v(" "),e("div",{staticClass:"hash-content-label"},[e("span",{staticClass:"label-title"}),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.decodeChange}},[t._v(t._s(t.buttonTitle))])],1)],2)]),t._v(" "),e("el-tab-pane",{attrs:{label:"交易回执信息",name:"second"}},[e("div",{staticClass:"tranbox"},[t._l(t.receiptData,function(a){return e("div",{key:a.label,staticClass:"hash-content-label"},[e("span",{staticClass:"label-title"},[t._v(t._s(a.label)+":")]),t._v(" "),e("span",{staticClass:"receit-content"},[t._v(t._s(a.value))])])}),t._v(" "),e("div",{staticClass:"hash-content-label"},[e("span",{staticClass:"label-title"},[t._v("logs:")]),t._v(" "),e("div",{staticClass:"label-content"},[t.eventLog.length?t._e():e("span",{staticClass:"input-data"},[t._v(t._s(t.transactionReceiptByPkHash.logs))]),t._v(" "),t._l(t.eventLog,function(a){return t.eventLog.length?e("div",{key:a.address,staticClass:"input-data"},[e("div",{staticClass:"item"},[e("span",{staticClass:"label"},[t._v("Address :")]),t._v(" "),e("span",[t._v(t._s(a.address))])]),t._v(" "),e("div",{staticClass:"item"},[e("span",{staticClass:"label"},[t._v("Name :")]),t._v(" "),e("span",[t._v(t._s(a.eventName))])]),t._v(" "),e("div",{staticClass:"item"},[e("span",{staticClass:"label"},[t._v("Topics :")]),t._v(" "),e("div",{staticStyle:{display:"inline-block",width:"800px"}},t._l(a.topics,function(a,n){return e("div",{key:a},[t._v("["+t._s(n)+"] "+t._s(a))])}),0)]),t._v(" "),e("div",{staticClass:"item"},[e("span",{staticClass:"label"},[t._v("Data :")]),t._v(" "),t.eventContent?e("div",{staticClass:"detail-input-content "},[a.eventDataShow?t._e():e("span",{staticClass:"input-data",staticStyle:{width:"600px"}},[t._v(t._s(a.data))]),t._v(" "),a.eventDataShow?e("el-table",{staticClass:"input-data ",staticStyle:{display:"inline-block",width:"400px"},attrs:{border:"",data:a.eventLgData}},[e("el-table-column",{attrs:{prop:"name",width:"150",label:"name",align:"left"}}),t._v(" "),e("el-table-column",{attrs:{prop:"data",label:"data",align:"left","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(a){return[e("i",{staticClass:"wbs-icon-baocun font-12 copy-public-key",attrs:{title:"复制"},on:{click:function(e){return t.copyPubilcKey(a.row.data)}}}),t._v(" "),e("span",[t._v(t._s(a.row.data))])]}}],null,!0)})],1):t._e()],1):t._e()]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:a.eventButtonShow,expression:"item.eventButtonShow"}],staticClass:"item"},[e("span",{staticClass:"label"}),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.decode(a)}}},[t._v(t._s(a.eventTitle))])],1)]):t._e()})],2)])],2)])],1)],1)])])])},i=[],o={render:n,staticRenderFns:i};a.a=o},"p8/4":function(t,a,e){"use strict";var n=e("mvHQ"),i=e.n(n),o=e("hM/7"),s=e("P9l9"),c=(e("myXI"),e("yt7g")),r=e("HJfm"),l=e("h56O"),d=e("Bko/"),h=(e.n(d),e("RFxO"));e.n(h);a.a={name:"transactionStatistics",components:{"v-nav":o.a},data:function(){return{PkHash:this.$route.query.pkHash,transactionByPkHash:"",transactionReceiptByPkHash:"",noData:!1,noDataTransaction:!1,contractList:[],groupId:localStorage.getItem("groupId"),transactionData:r.a.TRANSACTION_ITEM_DATA,activeName:"first",receiptData:r.a.RECEIPT_ITEM_DATA,byteCode:null,transactionTo:null,methodId:null,buttonSHow:!1,abiType:[],decodeData:null,inputData:[],funcData:null,buttonTitle:"解码",showDecode:!1,eventLog:[],eventTitle:"解码",eventContent:!0}},mounted:function(){this.$nextTick(function(){this.searchTbTransactionByPkHash()})},methods:{decode:function(t){this.eventContent=!1,t.eventDataShow?(this.$set(t,"eventDataShow",!1),this.$set(t,"eventTitle","解码"),this.eventContent=!0):(this.$set(t,"eventDataShow",!0),this.$set(t,"eventTitle","还原"),this.eventContent=!0)},decodeChange:function(){this.showDecode?(this.buttonTitle="解码",this.showDecode=!1):(this.buttonTitle="还原",this.showDecode=!0)},decodeInput:function(){var t=this,a=this.transactionByPkHash.input;this.transactionTo=this.transactionByPkHash.to,r.a.SYSTEM_CONTRACT_ADDRESS.forEach(function(e){t.transactionTo==e.contractAddress?t.decodefun(a,t.transactionTo,"system"):"0x0000000000000000000000000000000000000000"!=t.transactionTo?t.decodefun(a,t.transactionTo):t.decodeDeloy(a)})},searchTbTransactionByPkHash:function(){var t=this;this.noDataTransaction=!1;var a={groupId:localStorage.getItem("groupId"),transHash:this.PkHash};Object(s.p)(a).then(function(a){0===a.data.code?a.data.data?(t.noDataTransaction=!1,t.transactionByPkHash=a.data.data,a.data.data&&t.transactionData.forEach(function(a){a.value=t.transactionByPkHash[a.label]}),t.searchTbTransactionReceiptByPkHash(),t.getContracts()):t.noData=!0:(Object(c.e)(l.a[a.data.code].cn,"error"),t.noDataTransaction=!0)}).catch(function(a){a.response&&200!==a.response.code&&Object(c.e)(r.a.ERROR,"error"),t.noDataTransaction=!0})},searchTbTransactionReceiptByPkHash:function(){var t=this;this.noData=!1;var a={groupId:localStorage.getItem("groupId"),transHash:this.PkHash};Object(s.r)(a).then(function(a){0===a.data.code?a.data.data?(t.noData=!1,t.transactionReceiptByPkHash=a.data.data,a.data.data&&t.receiptData.forEach(function(a){a.value=t.transactionReceiptByPkHash[a.label]}),"0x0000000000000000000000000000000000000000"!=t.transactionByPkHash.to?t.getCode(t.transactionByPkHash.to):t.getCode(t.transactionReceiptByPkHash.contractAddress),t.eventLog=a.data.data.logs):t.noData=!0:(Object(c.e)(l.a[a.data.code].cn,"error"),t.noData=!0)}).catch(function(a){a.response&&200!==a.response.code&&Object(c.e)(r.a.ERROR,"error"),t.noData=!0})},getContracts:function(){var t=this,a={groupId:this.groupId,pageNumber:1,pageSize:300};Object(s.j)(a).then(function(a){0===a.data.code?t.contractList=a.data.data:Object(c.e)(l.a[a.data.code].cn,"error")}).catch(function(t){t.response&&200!==t.response.code&&Object(c.e)(r.a.ERROR,"error")})},handleClick:function(){this.decodeEventClick()},getCode:function(t){var a=this,e={groupId:localStorage.getItem("groupId"),data:[t]};Object(s.i)(e,{}).then(function(t){0===t.data.code?(a.byteCode=t.data.data[0],setTimeout(function(){a.decodeInput()},200)):Object(c.e)(l.a[t.data.code].cn,"error")}).catch(function(t){t.response&&200!==t.response.code&&Object(c.e)(r.a.ERROR,"error")})},decodefun:function(t,a,e){var n=this,o=new Web3(Web3.givenProvider),s=t.substring(0,10);this.methodId=s;var c="0x"+t.substring(10),r=null,l={};if("system"==e)this.contractList.length&&this.contractList.forEach(function(t){t.contractAddress==a&&(r=t.contractAbi,n.buttonSHow=!0,n.showDecode=!0,n.buttonTitle="还原")});else{"0x"==this.byteCode.substring(0,2)&&(this.byteCode=this.byteCode.substring(2),this.byteCode=this.byteCode.substring(0,this.byteCode.length-68)),this.contractList.length&&this.contractList.forEach(function(t){!t.show&&t.contractBin&&(t.contractBin=t.contractBin.substring(0,t.contractBin.length-68),t.show=!0),t.contractBin==n.byteCode&&(r=t.contractAbi,n.buttonSHow=!0,n.showDecode=!0,n.buttonTitle="还原")})}r&&(l=JSON.parse(r),l.forEach(function(t){t.encode=o.eth.abi.encodeFunctionSignature({name:t.name,type:t.type,inputs:t.inputs})}),l.forEach(function(t){if(t.encode===s&&(t.inputs.forEach(function(t,a){t&&t.type&&t.name?n.abiType[a]=t.type+" "+t.name:t&&t.name?n.abiType[a]=t.name:t&&t.type?n.abiType[a]=t.type:t&&(n.abiType[a]=t)}),n.funcData=t.name,t.inputs.length&&(n.decodeData=o.eth.abi.decodeParameters(t.inputs,c),"{}"!=i()(n.decodeData)))){for(var a in n.decodeData)!function(a){t.inputs.forEach(function(t,e){t&&t.name&&t.type?a===t.name&&(n.inputData[e]={},n.inputData[e].name=t.name,n.inputData[e].type=t.type,n.inputData[e].data=n.decodeData[a]):t&&e==a&&(n.inputData[e]={},n.inputData[e].type=t,n.inputData[e].data=n.decodeData[a])})}(a)}}))},decodeDeloy:function(t){var a=this;this.methodId=t.substring(0,10);var e="",n="",i={};"0x"==this.byteCode.substring(0,2)&&(this.byteCode=this.byteCode.substring(2),this.byteCode=this.byteCode.substring(0,this.byteCode.length-68)),this.contractList.length&&this.contractList.forEach(function(t){!t.show&&t.contractBin&&(t.contractBin=t.contractBin.substring(0,t.contractBin.length-68),t.show=!0),t.contractBin===a.byteCode&&(e=t.contractAbi,n=t.contractName,a.buttonSHow=!0,a.showDecode=!0,a.buttonTitle="还原")}),e?(i=JSON.parse(e),i.length>0&&i.forEach(function(t){"constructor"===t.type&&(a.funcData=n,t.inputs.forEach(function(t,e){t&&t.type&&t.name?a.abiType[e]=t.type+" "+t.name:t&&t.name?a.abiType[e]=t.name:t&&t.type?a.abiType[e]=t.type:t&&(a.abiType[e]=t)}))})):(this.buttonSHow=!1,this.showDecode=!1)},decodeEventClick:function(){var t=this;if(this.eventLog.length){this.eventSHow=!0;for(var a=0;a<this.eventLog.length;a++)!function(a){var e={groupId:localStorage.getItem("groupId"),data:[t.eventLog[a].address]};Object(s.i)(e,{}).then(function(e){if(0===e.data.code){var n=e.data.data[0];t.decodeEvent(n,t.eventLog[a],a)}else Object(c.e)(l.a[e.data.code].cn,"error")}).catch(function(t){t.response&&200!==t.response.code&&Object(c.e)(r.a.ERROR,"error")})}(a)}else this.eventSHow=!1},decodeEvent:function(t,a,e){var n=this,o=new Web3(Web3.givenProvider),s=a;"0x"==t.substring(0,2)&&(t=t.substring(2),t=t.substring(0,t.length-68));for(var c=0;c<this.eventLog.length;c++)!function(a){var e=0;n.contractList.forEach(function(a){!a.show&&a.contractBin&&(a.contractBin=a.contractBin.substring(0,a.contractBin.length-68),a.show=!0),a.contractBin===t?a.contractAbi?s.abi=JSON.parse(a.contractAbi):s.abi=[]:e++}),s.eventTitle="还原",s.eventDataShow=!0,s.eventButtonShow=!0,e==n.contractList.length&&(s.eventDataShow=!1,s.eventButtonShow=!1)}();s.abi&&s.abi.length&&s.abi.forEach(function(t){if("event"==t.type){s.eventName=t.name+"(";for(var a=0;a<t.inputs.length;a++)a==t.inputs.length-1?s.eventName=s.eventName+t.inputs[a].type+" "+t.inputs[a].name:s.eventName=s.eventName+t.inputs[a].type+" "+t.inputs[a].name+",";s.eventName=s.eventName+")";var e=o.eth.abi.decodeLog(t.inputs,s.data,s.topics);s.outData={},s.eventLgData=[];for(var n in e)(+n||0==+n)&&(s.outData[n]=e[n]);if(t.inputs.length&&"{}"!=i()(s.outData)){for(var c in s.outData)!function(a){t.inputs.forEach(function(t,e){e==a&&(s.eventLgData[e]={},s.eventLgData[e].name=t.name,s.eventLgData[e].data=s.outData[a])})}(c)}}}),this.$set(this.eventLog,e,s)}}}},uu0b:function(t,a,e){var n=e("SwuP");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("rjj0")("ee45ad40",n,!0,{})}});